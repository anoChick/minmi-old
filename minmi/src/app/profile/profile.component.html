<div class='box'>
  <app-loading *ngIf="!model" full message='読み込み中...'></app-loading>
  <app-loading *ngIf="uploading" message='アップロード中...'></app-loading>

  <form nz-form *ngIf="userForm" (ngSubmit)="onSubmit()" [formGroup]="userForm">

    <div nz-form-item nz-row>
      <div nz-form-label nz-col [nzSpan]="4">
        <label>名前</label>
      </div>
      <div nz-form-control nz-col [nzSpan]="14">
        <nz-input formControlName="displayName" [nzPlaceHolder]="'名前'" [nzSize]="'large'">
        </nz-input>
        <div nz-form-explain *ngIf="userForm.controls.displayName.dirty&&userForm.controls.displayName.hasError('required')">名前は必須です。</div>
      </div>
    </div>

    <div nz-form-item nz-row>
      <div nz-form-label nz-col [nzSpan]="4">
        <label>アイコン</label>
      </div>
      <div nz-form-control nz-col [nzSpan]="14">
        <input type="file" accept="image/*" (change)="onChangeInput($event)">
        <br>
        <img *ngIf="userForm.controls.photoURL" src="{{this.userForm.controls.photoURL.value}}" style='max-height:200px;'>
      </div>
    </div>
    <div nz-form-item nz-row style="margin-bottom:8px;">
      <div nz-form-control nz-col >
        <button nz-button [nzSize]="'large'" [nzType]="'primary'" style='width: 100%;'>更新</button>
      </div>
    </div>
  </form>
</div>
